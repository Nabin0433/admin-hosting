(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[15],{842:function(e,t,n){},926:function(e,t,n){"use strict";n.r(t);var c=n(181),a=n(1),s=(n(842),n(659)),r=n(78),o=n(77),i=n(661),l=n.n(i),j=n(678),d=n.n(j),u=n(716),b=n.n(u),p=(n(749),n(23)),O=n(24),f="http://3.110.91.117";t.default=function(){var e=Object(r.c)(o.e).token,t=Object(p.f)(),n=Object(a.useState)(!0),i=Object(c.a)(n,2),j=i[0],u=i[1],h=Object(a.useState)(!1),x=Object(c.a)(h,2),g=x[0],m=x[1],v=Object(a.useState)(!1),y=Object(c.a)(v,2),C=y[0],S=y[1],N=Object(a.useState)(!1),k=Object(c.a)(N,2),F=k[0],w=k[1],A=Object(a.useState)(""),I=Object(c.a)(A,2),B=I[0],_=I[1],D=Object(a.useState)(""),M=Object(c.a)(D,2),z=M[0],L=M[1],T=Object(a.useState)(""),E=Object(c.a)(T,2),J=E[0],P=E[1],q=Object(a.useState)(""),R=Object(c.a)(q,2),G=R[0],H=R[1],K=Object(a.useState)(""),Q=Object(c.a)(K,2),U=Q[0],V=Q[1],W=Object(a.useState)(""),X=Object(c.a)(W,2),Y=X[0],Z=X[1],$=Object(a.useState)(""),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],ce=Object(a.useState)(""),ae=Object(c.a)(ce,2),se=ae[0],re=ae[1],oe=Object(a.useState)(""),ie=Object(c.a)(oe,2),le=ie[0],je=ie[1],de=Object(a.useState)(null),ue=Object(c.a)(de,2),be=ue[0],pe=ue[1],Oe=function(e){setTimeout((function(){pe(null)}),e)},fe=Object(a.useState)(null),he=Object(c.a)(fe,2),xe=he[0],ge=he[1],me=function(){S(!C)};Object(a.useEffect)((function(){l.a.get(f+"/api/allcategories/list",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){ge(e.data.categories),u(!1)})).catch((function(e){var t,n;u(!1),pe({type:"error",massage:null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data.message)&&void 0!==t?t:"error on server back-end server"}),Oe(5e3)}))}),[F,e]);return Object(O.jsxs)(s.n,{className:"p-1",children:[Object(O.jsx)("p",{children:"Manage Category"}),Object(O.jsx)(s.f,{onClick:me,style:{float:"right"},color:"success",variant:"outline",children:"New Category"}),Object(O.jsxs)(s.L,{show:C,onClose:me,children:[Object(O.jsx)(s.O,{closeButton:!0,children:"New Category"}),Object(O.jsxs)(s.M,{children:[Object(O.jsx)(s.F,{onChange:function(e){return _(e.target.value)},value:B,type:"text",name:"name",placeholder:"Enter New Categories"}),Object(O.jsx)(s.F,{onChange:function(e){return P(e.target.value)},value:J,type:"number",name:"index",placeholder:"index"}),Object(O.jsx)(s.F,{onChange:function(e){return ne(e.target.value)},value:te,type:"text",name:"seoDescription",placeholder:"seoTitle"}),Object(O.jsx)(s.F,{onChange:function(e){return re(e.target.value)},value:se,type:"text",name:"seoDescription",placeholder:"seoDescription"}),Object(O.jsx)(s.F,{onChange:function(e){return je(e.target.value)},value:le,type:"text",name:"seoAlt",placeholder:"seoAlt"}),Object(O.jsx)("br",{}),"Image :",Object(O.jsx)(s.F,{onChange:function(e){return H(e.target.files[0])},type:"file",name:"categoryImage",value:null===G||void 0===G?void 0:G.fileName}),Object(O.jsx)("br",{}),"Icon :",Object(O.jsx)(s.F,{onChange:function(e){return L(e.target.files[0])},type:"file",name:"Icon",value:null===z||void 0===z?void 0:z.fileName}),Object(O.jsx)("br",{}),"Banner :",Object(O.jsx)(s.F,{onChange:function(e){return V(e.target.files[0])},type:"file",name:"categoryBanner",value:null===U||void 0===U?void 0:U.fileName}),Object(O.jsx)("br",{}),"warn"===(null===be||void 0===be?void 0:be.type)&&Object(O.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(O.jsx)(s.a,{color:"danger",children:be.massage})})]}),Object(O.jsx)(s.N,{children:Object(O.jsx)(s.f,{onClick:function(){if(!B||!z||!J||!G||!te||!se||!le)return pe({type:"warn",massage:"require all feilds"}),void Oe(5e3);var t=new FormData;t.append("name",B),t.append("parentId",""),t.append("identity",""),t.append("index",null!==J&&void 0!==J?J:0),t.append("categoryIcon",z),t.append("categoryImage",G),t.append("categoryBanner",U),t.append("type",Y||"list"),t.append("seoTitle",te),t.append("seoDescription",se),t.append("seoAlt",le),l.a.post("http://3.110.91.117/api/categorys/create",t,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){_(""),P(""),re(""),Z(""),ne(""),je(""),w(!F),S(!1),pe({type:"success",massage:e.data.message}),Oe(5e3)})).catch((function(e){pe({type:"error",massage:e.response.data.message}),Oe(5e3)}))},color:"primary",children:"Add"})})]}),Object(O.jsx)(s.j,{children:Object(O.jsx)(s.r,{tableFilter:!0,items:xe,fields:["SN","icon",{key:"name",_classes:""},{key:"Action",label:""}],hover:!0,striped:!0,loading:j,itemsPerPage:20,scopedSlots:{SN:function(e,t){return Object(O.jsx)("td",{children:t+1})},icon:function(e,t){var n;return Object(O.jsx)("td",{children:Object(O.jsx)("img",{width:"40",src:null===(n=e.categoryIcon[0])||void 0===n?void 0:n.img,alt:"icon"},t)})},Action:function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{className:"delete_color text-center",onClick:function(){t.push("/categoriesList/"+e._id)},children:Object(O.jsx)(b.a,{})}),Object(O.jsx)("td",{className:"delete_red_color",onClick:function(){return m(e._id)},children:Object(O.jsx)(d.a,{})})]})}}})}),Object(O.jsxs)(s.L,{className:"sm-30",show:g,onClose:function(){return m(!1)},children:[Object(O.jsx)(s.O,{closeButton:!0,children:"COMFIRM"}),Object(O.jsx)(s.M,{children:"delete"}),Object(O.jsxs)(s.N,{children:[Object(O.jsx)(s.f,{onClick:function(){return m(!1)},color:"primary",children:"Cancel"}),Object(O.jsx)(s.f,{onClick:function(){l.a.delete(f+"/api/categorys/delete/"+g,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){m(!1),w(!F),pe({type:"success",massage:e.data.message}),Oe(5e3)})).catch((function(e){m(!1),pe({type:"error",massage:e.response.data.message}),Oe(5e3)}))},color:"primary",children:"Confirm"})]})]}),"error"===(null===be||void 0===be?void 0:be.type)&&Object(O.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(O.jsx)(s.a,{color:"danger",children:be.massage})}),"success"===(null===be||void 0===be?void 0:be.type)&&Object(O.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(O.jsx)(s.a,{color:"success",children:be.massage})})]})}}}]);
//# sourceMappingURL=15.59c5a188.chunk.js.map