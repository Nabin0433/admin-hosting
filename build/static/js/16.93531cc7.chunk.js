(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[16],{1039:function(e,t,c){},1122:function(e,t,c){"use strict";c.r(t);var n=c(181),a=c(1),s=(c(1039),c(660)),r=c(78),o=c(77),i=c(663),l=c.n(i),j=c(686),d=c.n(j),u=c(743),b=c.n(u),O=c(23),p=c(24),h="http://3.109.126.116";t.default=function(){var e=Object(r.c)(o.e).token,t=Object(O.f)(),c=Object(a.useState)(!0),i=Object(n.a)(c,2),j=i[0],u=i[1],x=Object(a.useState)(!1),m=Object(n.a)(x,2),f=m[0],g=m[1],y=Object(a.useState)(!1),v=Object(n.a)(y,2),C=v[0],N=v[1],S=Object(a.useState)(!1),k=Object(n.a)(S,2),w=k[0],A=k[1],F=Object(a.useState)(""),D=Object(n.a)(F,2),_=D[0],B=D[1],E=Object(a.useState)(""),I=Object(n.a)(E,2),T=I[0],z=I[1],L=Object(a.useState)(1),M=Object(n.a)(L,2),J=M[0],P=M[1],q=Object(a.useState)(""),Y=Object(n.a)(q,2),G=Y[0],H=Y[1],K=Object(a.useState)(""),Q=Object(n.a)(K,2),R=Q[0],U=Q[1],V=Object(a.useState)(""),W=Object(n.a)(V,2),X=W[0],Z=W[1],$=Object(a.useState)(""),ee=Object(n.a)($,2),te=ee[0],ce=ee[1],ne=Object(a.useState)(null),ae=Object(n.a)(ne,2),se=ae[0],re=ae[1],oe=function(e){setTimeout((function(){re(null)}),e)},ie=Object(a.useState)(null),le=Object(n.a)(ie,2),je=le[0],de=le[1],ue=function(){N(!C)};Object(a.useEffect)((function(){l.a.get(h+"/api/allcategories/list",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){de(e.data.categories),u(!1)})).catch((function(e){var t,c;u(!1),re({type:"error",massage:null!==(t=null===e||void 0===e||null===(c=e.response)||void 0===c?void 0:c.data.message)&&void 0!==t?t:"error on server back-end server"}),oe(5e3)}))}),[w,e]);return Object(p.jsxs)(s.n,{className:"p-1",children:[Object(p.jsx)("p",{children:"Manage Category"}),Object(p.jsx)(s.f,{onClick:ue,style:{float:"right"},color:"success",variant:"outline",children:"New Category"}),Object(p.jsxs)(s.L,{show:C,onClose:ue,children:[Object(p.jsx)(s.O,{closeButton:!0,children:"New Category"}),Object(p.jsxs)(s.M,{children:[Object(p.jsx)("h6",{children:"Category name :"}),Object(p.jsx)(s.F,{onChange:function(e){return B(e.target.value)},value:_,type:"text",name:"name",placeholder:"Enter New Categories"}),Object(p.jsx)("h6",{className:"mt-3",children:"Category index :"}),Object(p.jsx)(s.F,{onChange:function(e){return P(e.target.value)},value:J,type:"number",name:"index",placeholder:"index"}),Object(p.jsx)("h6",{className:"mt-3",children:"Category SEO Title :"}),Object(p.jsx)(s.F,{onChange:function(e){return U(e.target.value)},value:R,type:"text",name:"seoDescription",placeholder:"seoTitle"}),Object(p.jsx)("h6",{className:"mt-3",children:"Category SEO Description :"}),Object(p.jsx)(s.F,{onChange:function(e){return Z(e.target.value)},value:X,type:"text",name:"seoDescription",placeholder:"seoDescription"}),Object(p.jsxs)("h6",{className:"mt-3",children:["Category SEO Alt ","(for icon Seo)"," :"]}),Object(p.jsx)(s.F,{onChange:function(e){return ce(e.target.value)},value:te,type:"text",name:"seoAlt",placeholder:"seoAlt"}),Object(p.jsx)("h6",{className:"mt-3",children:"Icon :"}),Object(p.jsx)(s.F,{onChange:function(e){return z(e.target.files[0])},type:"file",name:"Icon",value:null===T||void 0===T?void 0:T.fileName}),Object(p.jsx)("br",{}),"warn"===(null===se||void 0===se?void 0:se.type)&&Object(p.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(p.jsx)(s.a,{color:"danger",children:se.massage})})]}),Object(p.jsx)(s.N,{children:Object(p.jsx)(s.f,{onClick:function(){if(!_||!T||!J||!R||!X||!te)return re({type:"warn",massage:"require all feilds"}),void oe(5e3);var t=new FormData;t.append("name",_),t.append("parentId",""),t.append("identity",""),t.append("index",null!==J&&void 0!==J?J:0),t.append("categoryIcon",T),t.append("type",G||"list"),t.append("seoTitle",R),t.append("seoDescription",X),t.append("seoAlt",te),l.a.post("http://3.109.126.116/api/categorys/create",t,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){B(""),P(""),Z(""),H(""),U(""),ce(""),A(!w),N(!1),re({type:"success",massage:e.data.message}),oe(5e3)})).catch((function(e){re({type:"error",massage:e.response.data.message}),oe(5e3)}))},color:"primary",children:"Add"})})]}),Object(p.jsx)(s.j,{children:Object(p.jsx)(s.r,{tableFilter:!0,items:je,fields:["SN","icon",{key:"name",_classes:""},{key:"Action",label:""}],hover:!0,striped:!0,loading:j,itemsPerPage:20,scopedSlots:{SN:function(e,t){return Object(p.jsx)("td",{children:t+1})},icon:function(e,t){var c;return Object(p.jsx)("td",{children:Object(p.jsx)("img",{width:"40",src:null===(c=e.categoryIcon[0])||void 0===c?void 0:c.img,alt:"icon"},t)})},Action:function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("td",{className:"delete_color text-center",onClick:function(){t.push("/categoriesList/"+e._id)},children:Object(p.jsx)(b.a,{})}),Object(p.jsx)("td",{className:"delete_red_color",onClick:function(){return g(e._id)},children:Object(p.jsx)(d.a,{})})]})}}})}),Object(p.jsxs)(s.L,{className:"sm-30",show:f,onClose:function(){return g(!1)},children:[Object(p.jsx)(s.O,{closeButton:!0,children:"Delete Category"}),Object(p.jsx)(s.M,{children:"Do you want to remove this category ?"}),Object(p.jsxs)(s.N,{children:[Object(p.jsx)(s.f,{onClick:function(){l.a.delete(h+"/api/categorys/delete/"+f,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){g(!1),A(!w),re({type:"success",massage:e.data.message}),oe(5e3)})).catch((function(e){g(!1),re({type:"error",massage:e.response.data.message}),oe(5e3)}))},color:"primary",children:"Yes"}),Object(p.jsx)(s.f,{onClick:function(){return g(!1)},color:"primary",children:"No"})]})]}),"error"===(null===se||void 0===se?void 0:se.type)&&Object(p.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(p.jsx)(s.a,{color:"danger",children:se.massage})}),"success"===(null===se||void 0===se?void 0:se.type)&&Object(p.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(p.jsx)(s.a,{color:"success",children:se.massage})})]})}}}]);
//# sourceMappingURL=16.93531cc7.chunk.js.map