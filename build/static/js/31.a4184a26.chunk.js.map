{"version":3,"sources":["views/product/AddProducts.js","views/product/Addproduct.js"],"names":["AddProducts","useState","attribute","setAttribute","longDescription","setLongDescription","className","htmlFor","name","type","placeholder","onClick","disabled","Array","fill","map","_","i","id","multiple","accept","min","defaultValue","editor","ClassicEditor","data","onChange","event","getData","console","log","value","hidden","Categories","history","useHistory","setData","subCategories","setSubCategories","subCategoriesSecond","setSubCategoriesSecond","mainCategoryId","setMainCategoryId","categoryId","setCategoryId","subCategoryId","setSubCategoryId","useSelector","selectUser","token","role","_id","server","process","useEffect","axios","get","headers","Authorization","then","catch","err","sm","e","target","categories","index","children","onSubmit","NewProduct","preventDefault","price","length","formData","FormData","img","append","title","shortDescription","seoTitle","seoDescription","seoAlt","tag","j","files","discountPrice","quantity","weight","ram","storage","size","color","post","res","push","style","backgroundColor"],"mappings":"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","file":"static/js/31.a4184a26.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./product.css\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\n\r\nfunction AddProducts() {\r\n  const [attribute, setAttribute] = useState(1);\r\n  const [longDescription, setLongDescription] = useState(0);\r\n\r\n  return (\r\n    <div className=\"forms\">\r\n      <div className=\"form-group\">\r\n        <h2>Product Description</h2> <hr />\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleFormControlTextarea1\">Product Title</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Product Title\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleFormControlTextarea1\">Short Description</label>\r\n          <textarea\r\n            type=\"text\"\r\n            name=\"shortDescription\"\r\n            className=\"form-control\"\r\n            placeholder=\"Give me a short description about product\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div className=\"d-flex align-items-center justify-content-between\">\r\n          <h3>Create attribute</h3>\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn border px-4 mx-4\"\r\n              onClick={() => setAttribute(attribute + 1)}\r\n            >\r\n              Add\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn border px-4 ml-4\"\r\n              onClick={() => setAttribute(attribute - 1)}\r\n              disabled={attribute === 1}\r\n            >\r\n              Remove\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {/* for multiple items and attributes  */}\r\n        {Array(attribute)\r\n          .fill(\"_\")\r\n          .map((_, i) => (\r\n            <div key={i}>\r\n              <h3 className=\"mt-4 mb-2\">Form No .{i + 1}</h3>\r\n              <div className=\"input-group mb-3 p-1\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                    Upload\r\n                  </span>\r\n                </div>\r\n                <div className=\"custom-file\">\r\n                  <input\r\n                    multiple\r\n                    name=\"img\"\r\n                    type=\"file\"\r\n                    className=\"custom-file-input\"\r\n                    id=\"inputGroupFile01\"\r\n                    aria-describedby=\"inputGroupFileAddon01\"\r\n                    accept=\"image/png, image/jpeg,image/jpg,image/svg,image/webp\"\r\n                  />\r\n                  <label\r\n                    className=\"custom-file-label\"\r\n                    htmlFor=\"inputGroupFile01\"\r\n                  >\r\n                    Choose file\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">Price</span>\r\n                  <input\r\n                    name=\"price\"\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    id=\"price\"\r\n                    placeholder=\"Rs.\"\r\n                    min={0}\r\n                    defaultValue={0}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">DiscountPrice</span>\r\n                  <input\r\n                    name=\"discountPrice\"\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    id=\"discountPrice\"\r\n                    placeholder=\"Rs.\"\r\n                    defaultValue={0}\r\n                    min={0}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                    Quantity\r\n                  </span>\r\n                  <input\r\n                    name=\"quantity\"\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Select Quantity\"\r\n                    min={0}\r\n                    defaultValue={0}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                    Weight\r\n                  </span>\r\n                  <input\r\n                    name=\"weight\"\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Select weight\"\r\n                    min={0}\r\n                    defaultValue={0}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                    Ram\r\n                  </span>\r\n                  <input\r\n                    name=\"ram\"\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Optional...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                    Storage\r\n                  </span>\r\n                  <input\r\n                    name=\"storage\"\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Optional...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                    Size\r\n                  </span>\r\n                  <input\r\n                    name=\"size\"\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Optional...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\r\n                    color\r\n                  </span>\r\n                  <input\r\n                    name=\"color\"\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Optional...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <hr />\r\n      {/* {used ckeditor 5 for product long description} */}\r\n      <h4>LongDescription</h4>\r\n      <CKEditor\r\n        editor={ClassicEditor}\r\n        data=\"<p>Write a LongDscription</p>\"\r\n        onChange={(event, editor) => {\r\n          const data = editor.getData();\r\n          console.log({ event, editor, data });\r\n          setLongDescription(data);\r\n        }}\r\n      />\r\n      <input\r\n        value={longDescription}\r\n        hidden\r\n        name=\"longDescription\"\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        placeholder=\"tag\"\r\n      />\r\n      <hr />\r\n      <label>SEOTitle</label>\r\n      <input\r\n        name=\"seoTitle\"\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        placeholder=\"SEOTitle\"\r\n      />\r\n      <label>SEODescription</label>\r\n      <textarea\r\n        name=\"seoDescription\"\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        placeholder=\"SEODescription\"\r\n      />\r\n      <label>SEOAlt</label>\r\n      <input\r\n        name=\"seoAlt\"\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        placeholder=\"SEOAlt\"\r\n      />\r\n      <label>Tag</label>\r\n      <input\r\n        name=\"tag\"\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        placeholder=\"tag\"\r\n      />\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddProducts;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./product.css\";\r\nimport { CCard, CCol, CButton } from \"@coreui/react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../../localyStore\";\r\n\r\nimport axios from \"axios\";\r\nimport AddProducts from \"./AddProducts\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Categories = () => {\r\n  const history = useHistory();\r\n  const [data, setData] = useState(null);\r\n  const [subCategories, setSubCategories] = useState(null);\r\n  const [subCategoriesSecond, setSubCategoriesSecond] = useState(null);\r\n  const [mainCategoryId, setMainCategoryId] = useState(null);\r\n  const [categoryId, setCategoryId] = useState(\"\");\r\n  const [subCategoryId, setSubCategoryId] = useState(\"\");\r\n  const { token, role, _id } = useSelector(selectUser);\r\n\r\n  const server = process.env.REACT_APP_SERVER;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(server + process.env.REACT_APP_ADMIN_All_CATEGORY_GET, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((data) => {\r\n        setData(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [token]);\r\n\r\n  // product create\r\n  const ProductsPost = (e) => {\r\n    let NewProduct;\r\n    e.preventDefault();\r\n    const data = e.target;\r\n    // vendor or admin add products\r\n    if (role === \"admin\") {\r\n      NewProduct = process.env.REACT_APP_ADMIN_PRODUCT_POST;\r\n    } else if (role === \"vendor\") {\r\n      NewProduct = process.env.REACT_APP_ADMIN_PRODUCT_VENDOR_POST;\r\n    }\r\n    // attributes\r\n    if (data.price.length > 0) {\r\n      Array(data.price.length)\r\n        .fill(\"_\")\r\n        .map((_, index) => {\r\n          // append data\r\n          let formData = new FormData();\r\n          console.log(data.img);\r\n          formData.append(\"name\", data.title.value);\r\n          formData.append(\"shortDescription\", data.shortDescription.value);\r\n          formData.append(\"longDescription\", data.longDescription.value);\r\n          formData.append(\"seoTitle\", data.seoTitle.value);\r\n          formData.append(\"seoDescription\", data.seoDescription.value);\r\n          formData.append(\"seoAlt\", data.seoAlt.value);\r\n          formData.append(\"mainCategory\", mainCategoryId);\r\n          formData.append(\"sub1Category\", categoryId);\r\n          formData.append(\"sub2Category\", subCategoryId);\r\n          formData.append(\"tag\", data.tag.value);\r\n          formData.append(\"vendor\", _id);\r\n          for (let j = 0; j < data.img[index].files.length; j++) {\r\n            formData.append(\"productImage\", data.img[index].files[j]);\r\n          }\r\n          formData.append(\"price\", data.price[index].value);\r\n          formData.append(\"discountPrice\", data.discountPrice[index].value);\r\n          formData.append(\"quantity\", data.quantity[index].value);\r\n          formData.append(\"weight\", data.weight[index].value);\r\n          formData.append(\"ram\", data.ram[index].value);\r\n          formData.append(\"storage\", data.storage[index].value);\r\n          formData.append(\"size\", data.size[index].value);\r\n          formData.append(\"color\", data.color[index].value);\r\n          axios\r\n            .post(server + NewProduct, formData, {\r\n              headers: {\r\n                Authorization: `bearer ${token}`,\r\n                \"Content-Type\": \"multipart/form-data\",\r\n              },\r\n            })\r\n            .then((res) => {\r\n              setCategoryId(null);\r\n              history.push(\"/productlist\");\r\n            });\r\n        });\r\n    } else {\r\n      // append data\r\n      let formData = new FormData();\r\n      formData.append(\"name\", data.title.value);\r\n      formData.append(\"shortDescription\", data.shortDescription.value);\r\n      formData.append(\"longDescription\", data.longDescription.value);\r\n      formData.append(\"seoTitle\", data.seoTitle.value);\r\n      formData.append(\"seoDescription\", data.seoDescription.value);\r\n      formData.append(\"seoAlt\", data.seoAlt.value);\r\n      formData.append(\"mainCategory\", mainCategoryId);\r\n      formData.append(\"sub1Category\", categoryId);\r\n      formData.append(\"sub2Category\", subCategoryId);\r\n      formData.append(\"tag\", data.tag.value);\r\n      formData.append(\"vendor\", _id);\r\n      for (let j = 0; j < data.img.files.length; j++) {\r\n        formData.append(\"productImage\", data.img.files[j]);\r\n      }\r\n      formData.append(\"price\", data.price.value);\r\n      formData.append(\"discountPrice\", data.discountPrice.value);\r\n      formData.append(\"quantity\", data.quantity.value);\r\n      formData.append(\"weight\", data.weight.value);\r\n      formData.append(\"ram\", data.ram.value);\r\n      formData.append(\"storage\", data.storage.value);\r\n      formData.append(\"size\", data.size.value);\r\n      formData.append(\"color\", data.color.value);\r\n      axios\r\n        .post(server + NewProduct, formData, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setCategoryId(null);\r\n          history.push(\"/productlist\");\r\n        });\r\n      // for (let pair of formData.entries()) {\r\n      //   console.log(pair[0] + \", \" + pair[1]);\r\n      // }\r\n    }\r\n  };\r\n  return (\r\n    <CCard className=\"p-3\">\r\n      <div className=\"d-flex flex-row\">\r\n        <CCol sm=\"4\" className=\" d-md-block\">\r\n          <div className=\"form-group\">\r\n            <br />\r\n            <label htmlFor=\"exampleFormControlSelect1\">\r\n              <h2>\r\n                Select Category\r\n                <hr />\r\n              </h2>\r\n            </label>\r\n            <h2>Main Category</h2>\r\n            <select\r\n              defaultValue={[]}\r\n              multiple\r\n              onChange={(e) => {\r\n                setSubCategories(e.target.value);\r\n              }}\r\n              className=\"form-control text-uppercase fontSize:50 p-4\"\r\n              id=\"exampleFormControlSelect1\"\r\n            >\r\n              {/* <option value=\"\" disabled selected hidden>\r\n                Choose...\r\n              </option> */}\r\n              {data?.data.categories.map((i, index) => (\r\n                <option onClick={() => setMainCategoryId(i._id)} key={index}>\r\n                  {i.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          {subCategories && (\r\n            <>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleFormControlSelect2\">\r\n                  <h2>Sub Categories</h2>\r\n                </label>\r\n                <select\r\n                  multiple\r\n                  defaultValue={[]}\r\n                  onChange={(e) => setSubCategoriesSecond(e.target.value)}\r\n                  className=\"form-control text-uppercase fontSize:50 p-4\"\r\n                  id=\"exampleFormControlSelect2\"\r\n                >\r\n                  {/* <option value=\"\" disabled selected hidden>\r\n                    Choose...\r\n                  </option> */}\r\n                  {data?.data.categories.map((i) =>\r\n                    i.name === subCategories\r\n                      ? i.children.map((i, index) => (\r\n                          <option\r\n                            onClick={() => setCategoryId(i._id)}\r\n                            key={index}\r\n                          >\r\n                            {i.name}\r\n                          </option>\r\n                        ))\r\n                      : \"\"\r\n                  )}\r\n                </select>\r\n              </div>\r\n              {subCategoriesSecond && (\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"sub\">\r\n                    <h2>Sub Categories</h2>\r\n                  </label>\r\n                  <select\r\n                    multiple\r\n                    defaultValue={[]}\r\n                    className=\"form-control text-uppercase fontSize:50 p-4\"\r\n                    id=\"sub\"\r\n                  >\r\n                    {data?.data.categories.map((i) =>\r\n                      i.name === subCategories\r\n                        ? i.children.map((i) =>\r\n                            i.name === subCategoriesSecond\r\n                              ? i.children.map((i, index) => (\r\n                                  <option\r\n                                    onClick={() => setSubCategoryId(i._id)}\r\n                                    key={index}\r\n                                  >\r\n                                    {i.name}\r\n                                  </option>\r\n                                ))\r\n                              : \"\"\r\n                          )\r\n                        : \"\"\r\n                    )}\r\n                  </select>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </CCol>\r\n        <CCol sm=\"6\">\r\n          <br />\r\n          <form onSubmit={ProductsPost} id=\"productForm\">\r\n            <AddProducts />\r\n            <CButton\r\n              disabled={\r\n                !mainCategoryId || !subCategories || !subCategoriesSecond\r\n              }\r\n              type=\"submit\"\r\n              style={{ backgroundColor: \"#03A89E\", color: \"white\" }}\r\n            >\r\n              Save Product\r\n            </CButton>\r\n          </form>\r\n        </CCol>\r\n        {/* <div className=\"addproductcontrols\">\r\n          <div className=\"btntop\">\r\n            <button disabled={addBack === -1 || add} onClick={backProduct}>\r\n              <ArrowBackIcon />\r\n            </button>\r\n            <button\r\n              disabled={addCounter === next || next == null}\r\n              onClick={nextProduct}\r\n            >\r\n              <ArrowForwardIcon />\r\n            </button>\r\n          </div>\r\n          <div className=\"btnadd\">\r\n            <button onClick={addNewProduct}>\r\n              <AddCircleIcon />\r\n            </button>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n"],"sourceRoot":""}