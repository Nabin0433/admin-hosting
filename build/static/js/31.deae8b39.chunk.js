(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{940:function(e,t,a){"use strict";a.r(t);var n=a(181),c=a(1),r=(a(702),a(659)),i=a(78),l=a(77),s=a(661),o=a.n(s),p=a(673),d=a(674),u=a.n(d),j=a(24);var m=function(){var e=Object(c.useState)(1),t=Object(n.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(0),l=Object(n.a)(i,2),s=l[0],o=l[1];return Object(j.jsxs)("div",{className:"forms",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("h2",{children:"Product Description"})," ",Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"exampleFormControlTextarea1",children:"Product Title"}),Object(j.jsx)("input",{name:"title",type:"text",className:"form-control",placeholder:"Product Title"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"exampleFormControlTextarea1",children:"Short Description"}),Object(j.jsx)("textarea",{type:"text",name:"shortDescription",className:"form-control",placeholder:"Give me a short description about product"})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(j.jsx)("h3",{children:"Create attribute"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",className:"btn border px-4 mx-4",onClick:function(){return r(a+1)},children:"Add"}),Object(j.jsx)("button",{type:"button",className:"btn border px-4 ml-4",onClick:function(){return r(a-1)},disabled:1===a,children:"Remove"})]})]}),Array(a).fill("_").map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{className:"mt-4 mb-2",children:["Form No .",t+1]}),Object(j.jsxs)("div",{className:"input-group mb-3 p-1",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"Upload"})}),Object(j.jsxs)("div",{className:"custom-file",children:[Object(j.jsx)("input",{multiple:!0,name:"img",type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",accept:"image/png, image/jpeg,image/jpg,image/svg,image/webp"}),Object(j.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile01",children:"Choose file"})]})]}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",children:"Price"}),Object(j.jsx)("input",{name:"price",type:"number",className:"form-control",id:"price",placeholder:"Rs.",min:0,defaultValue:0})]})}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",children:"DiscountPrice"}),Object(j.jsx)("input",{name:"discountPrice",type:"number",className:"form-control",id:"discountPrice",placeholder:"Rs.",defaultValue:0,min:0})]})}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"Quantity"}),Object(j.jsx)("input",{name:"quantity",type:"number",className:"form-control",placeholder:"Select Quantity",min:0,defaultValue:0})]})}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"Weight"}),Object(j.jsx)("input",{name:"weight",type:"number",className:"form-control",placeholder:"Select weight",min:0,defaultValue:0})]})}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"Ram"}),Object(j.jsx)("input",{name:"ram",type:"text",className:"form-control",placeholder:"Optional..."})]})}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"Storage"}),Object(j.jsx)("input",{name:"storage",type:"text",className:"form-control",placeholder:"Optional..."})]})}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"Size"}),Object(j.jsx)("input",{name:"size",type:"text",className:"form-control",placeholder:"Optional..."})]})}),Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsxs)("div",{className:"input-group-prepend",children:[Object(j.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"color"}),Object(j.jsx)("input",{name:"color",type:"text",className:"form-control",placeholder:"Optional..."})]})})]},t)}))]}),Object(j.jsx)("hr",{}),Object(j.jsx)("h4",{children:"LongDescription"}),Object(j.jsx)(p.CKEditor,{editor:u.a,data:"<p>Write a LongDscription</p>",onChange:function(e,t){var a=t.getData();console.log({event:e,editor:t,data:a}),o(a)}}),Object(j.jsx)("input",{value:s,hidden:!0,name:"longDescription",type:"text",className:"form-control",placeholder:"tag"}),Object(j.jsx)("hr",{}),Object(j.jsx)("label",{children:"SEOTitle"}),Object(j.jsx)("input",{name:"seoTitle",type:"text",className:"form-control",placeholder:"SEOTitle"}),Object(j.jsx)("label",{children:"SEODescription"}),Object(j.jsx)("textarea",{name:"seoDescription",type:"text",className:"form-control",placeholder:"SEODescription"}),Object(j.jsx)("label",{children:"SEOAlt"}),Object(j.jsx)("input",{name:"seoAlt",type:"text",className:"form-control",placeholder:"SEOAlt"}),Object(j.jsx)("label",{children:"Tag"}),Object(j.jsx)("input",{name:"tag",type:"text",className:"form-control",placeholder:"tag"}),Object(j.jsx)("br",{})]})},b=a(23);t.default=function(){var e=Object(b.f)(),t=Object(c.useState)(null),a=Object(n.a)(t,2),s=a[0],p=a[1],d=Object(c.useState)(null),u=Object(n.a)(d,2),h=u[0],x=u[1],O=Object(c.useState)(null),g=Object(n.a)(O,2),v=g[0],f=g[1],N=Object(c.useState)(null),y=Object(n.a)(N,2),S=y[0],C=y[1],F=Object(c.useState)(""),D=Object(n.a)(F,2),A=D[0],w=D[1],T=Object(c.useState)(""),P=Object(n.a)(T,2),z=P[0],G=P[1],k=Object(i.c)(l.e),E=k.token,V=k.role,_=k._id,q="http://3.110.91.117";Object(c.useEffect)((function(){o.a.get(q+"/api/allcategories/list",{headers:{Authorization:"Bearer ".concat(E)}}).then((function(e){p(e)})).catch((function(e){console.log(e)}))}),[E]);return Object(j.jsx)(r.i,{className:"p-3",children:Object(j.jsxs)("div",{className:"d-flex flex-row",children:[Object(j.jsxs)(r.o,{sm:"4",className:" d-md-block",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("br",{}),Object(j.jsx)("label",{htmlFor:"exampleFormControlSelect1",children:Object(j.jsxs)("h2",{children:["Select Category",Object(j.jsx)("hr",{})]})}),Object(j.jsx)("h2",{children:"Main Category"}),Object(j.jsx)("select",{defaultValue:[],multiple:!0,onChange:function(e){x(e.target.value)},className:"form-control text-uppercase fontSize:50 p-4",id:"exampleFormControlSelect1",children:null===s||void 0===s?void 0:s.data.categories.map((function(e,t){return Object(j.jsx)("option",{onClick:function(){return C(e._id)},children:e.name},t)}))})]}),h&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"exampleFormControlSelect2",children:Object(j.jsx)("h2",{children:"Sub Categories"})}),Object(j.jsx)("select",{multiple:!0,defaultValue:[],onChange:function(e){return f(e.target.value)},className:"form-control text-uppercase fontSize:50 p-4",id:"exampleFormControlSelect2",children:null===s||void 0===s?void 0:s.data.categories.map((function(e){return e.name===h?e.children.map((function(e,t){return Object(j.jsx)("option",{onClick:function(){return w(e._id)},children:e.name},t)})):""}))})]}),v&&Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"sub",children:Object(j.jsx)("h2",{children:"Sub Categories"})}),Object(j.jsx)("select",{multiple:!0,defaultValue:[],className:"form-control text-uppercase fontSize:50 p-4",id:"sub",children:null===s||void 0===s?void 0:s.data.categories.map((function(e){return e.name===h?e.children.map((function(e){return e.name===v?e.children.map((function(e,t){return Object(j.jsx)("option",{onClick:function(){return G(e._id)},children:e.name},t)})):""})):""}))})]})]})]}),Object(j.jsxs)(r.o,{sm:"6",children:[Object(j.jsx)("br",{}),Object(j.jsxs)("form",{onSubmit:function(t){var a;t.preventDefault();var n=t.target;if("admin"===V?a="/api/products/create":"vendor"===V&&(a="/api/vendor/products/addProducts"),n.price.length>0)Array(n.price.length).fill("_").map((function(t,c){var r=new FormData;console.log(n.img),r.append("name",n.title.value),r.append("shortDescription",n.shortDescription.value),r.append("longDescription",n.longDescription.value),r.append("seoTitle",n.seoTitle.value),r.append("seoDescription",n.seoDescription.value),r.append("seoAlt",n.seoAlt.value),r.append("mainCategory",S),r.append("sub1Category",A),r.append("sub2Category",z),r.append("tag",n.tag.value),r.append("vendor",_);for(var i=0;i<n.img[c].files.length;i++)r.append("productImage",n.img[c].files[i]);r.append("price",n.price[c].value),r.append("discountPrice",n.discountPrice[c].value),r.append("quantity",n.quantity[c].value),r.append("weight",n.weight[c].value),r.append("ram",n.ram[c].value),r.append("storage",n.storage[c].value),r.append("size",n.size[c].value),r.append("color",n.color[c].value),o.a.post(q+a,r,{headers:{Authorization:"bearer ".concat(E),"Content-Type":"multipart/form-data"}}).then((function(t){w(null),e.push("/productlist")}))}));else{var c=new FormData;c.append("name",n.title.value),c.append("shortDescription",n.shortDescription.value),c.append("longDescription",n.longDescription.value),c.append("seoTitle",n.seoTitle.value),c.append("seoDescription",n.seoDescription.value),c.append("seoAlt",n.seoAlt.value),c.append("mainCategory",S),c.append("sub1Category",A),c.append("sub2Category",z),c.append("tag",n.tag.value),c.append("vendor",_);for(var r=0;r<n.img.files.length;r++)c.append("productImage",n.img.files[r]);c.append("price",n.price.value),c.append("discountPrice",n.discountPrice.value),c.append("quantity",n.quantity.value),c.append("weight",n.weight.value),c.append("ram",n.ram.value),c.append("storage",n.storage.value),c.append("size",n.size.value),c.append("color",n.color.value),o.a.post(q+a,c,{headers:{Authorization:"bearer ".concat(E),"Content-Type":"multipart/form-data"}}).then((function(t){w(null),e.push("/productlist")}))}},id:"productForm",children:[Object(j.jsx)(m,{}),Object(j.jsx)(r.f,{disabled:!S||!h||!v,type:"submit",style:{backgroundColor:"#03A89E",color:"white"},children:"Save Product"})]})]})]})})}}}]);
//# sourceMappingURL=31.deae8b39.chunk.js.map