{"version":3,"sources":["views/product/productLists.js"],"names":["ProductLists","history","useHistory","userId","useSelector","state","user","_id","selectUser","role","token","useState","loading","setLoading","offersShow","setOffersShow","offers","setOffers","flashSale","setFlashSale","selectedOffer","setSelectedOffer","discount","setDiscount","products","setProducts","vendorProducts","setvendorProducts","vendorProductsPending","setVendorProductsPending","server","process","reload","setReload","event","setEvent","clearEvent","ms","setTimeout","useEffect","getProduct","axios","get","headers","Authorization","then","res","data","catch","err","type","massage","response","message","flashSales","dataChange","vendorProductPending","feilds","newData","map","i","ProductImg","productPictures","img","name","price","Math","round","quantity","discountPrice","finalPrice","slug","category","sub2Category","sub1Category","mainCategory","verifiedVendors","toggle","offer","product","key","label","_style","width","sorter","filter","className","xl","onChange","e","target","value","vendorProductApproved","tableFilter","columnFilter","pagination","itemsPerPageSelect","items","fields","hover","striped","itemsPerPage","scopedSlots","item","index","src","alt","content","freeSet","cilGift","size","onClick","offerTitle","flashSalesTitle","Action","push","id","delete","show","onClose","closeButton","htmlFor","disabled","min","max","color","api","REACT_APP_ADMIN_PUSH_OFFER","post","offerId"],"mappings":"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","file":"static/js/33.60847aa7.chunk.js","sourcesContent":["import CIcon from \"@coreui/icons-react\";\r\nimport { freeSet } from \"@coreui/icons\";\r\n\r\nimport {\r\n  CCol,\r\n  CRow,\r\n  CCard,\r\n  CCardTitle,\r\n  CCardBody,\r\n  CDataTable,\r\n  CDropdown,\r\n  CDropdownToggle,\r\n  CDropdownMenu,\r\n  CDropdownItem,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CButton,\r\n  CCardHeader,\r\n  CAlert,\r\n} from \"@coreui/react\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../../localyStore\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./product.css\";\r\n\r\nconst ProductLists = () => {\r\n  const history = useHistory();\r\n\r\n  const userId = useSelector((state) => state.user._id);\r\n  const { role, token } = useSelector(selectUser);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [offersShow, setOffersShow] = useState(false);\r\n  const [offers, setOffers] = useState([]);\r\n  const [flashSale, setFlashSale] = useState([]);\r\n  const [selectedOffer, setSelectedOffer] = useState(null);\r\n  const [discount, setDiscount] = useState(1);\r\n\r\n  const [products, setProducts] = useState();\r\n  const [vendorProducts, setvendorProducts] = useState();\r\n  const [vendorProductsPending, setVendorProductsPending] = useState(\"pending\");\r\n\r\n  const server = process.env.REACT_APP_SERVER;\r\n  const [reload, setReload] = useState(null);\r\n\r\n  // alert\r\n  const [event, setEvent] = useState(null);\r\n\r\n  const clearEvent = (ms) => {\r\n    setTimeout(() => {\r\n      setEvent(null);\r\n    }, ms);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let getProduct;\r\n    if (role === \"admin\") {\r\n      getProduct = process.env.REACT_APP_ADMIN_PRODUCT_LIST_GET;\r\n      axios\r\n        .get(server + process.env.REACT_APP_ADMIN_GET_OFFERS, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setOffers(res.data.offers);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          setEvent({\r\n            type: \"error\",\r\n            massage: err?.response?.data.message ?? \"server-error\",\r\n          });\r\n          clearEvent(5000);\r\n        });\r\n      axios\r\n        .get(server + process.env.REACT_APP_ADMIN_GET_FLASH_SALE, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setFlashSale(res.data.flashSales[0]);\r\n        })\r\n        .catch((err) => {\r\n          setEvent({\r\n            type: \"error\",\r\n            massage: err?.response?.data.message ?? \"server-error\",\r\n          });\r\n          clearEvent(5000);\r\n        });\r\n    }\r\n    if (role === \"vendor\") {\r\n      getProduct = process.env.REACT_APP_ADMIN_PRODUCT_VENDOR_LIST_GET;\r\n    }\r\n    axios\r\n      .get(server + getProduct, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (role === \"admin\") {\r\n          dataChange(res?.data.products);\r\n        }\r\n        if (role === \"vendor\") {\r\n          dataChange(res?.data.vendorProductPending);\r\n          setvendorProducts(res.data);\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setEvent({\r\n          type: \"error\",\r\n          massage: err?.response?.data.message ?? \"server-error\",\r\n        });\r\n        clearEvent(5000);\r\n      });\r\n  }, [token, role, userId, reload]);\r\n  // change data\r\n  const dataChange = (data) => {\r\n    let newData = data.map((i) => ({\r\n      _id: i._id,\r\n      ProductImg: i.productPictures?.[0]?.img,\r\n      name: i.name,\r\n      price: Math.round(i.price),\r\n      quantity: Math.round(i.quantity),\r\n      discountPrice: Math.round(i.discountPrice),\r\n      finalPrice: Math.round(i.finalPrice),\r\n      slug: i.slug,\r\n      category:\r\n        i.sub2Category?.name || i.sub1Category?.name || i.mainCategory?.name,\r\n      verifiedVendors: i?.verifiedVendors?.name ?? \"Admin\",\r\n    }));\r\n    setProducts(newData);\r\n  };\r\n  // delete products\r\n  const deleteProduct = (id) => {\r\n    axios\r\n      .delete(server + process.env.REACT_APP_ADMIN_PRODUCT_DELETE + id, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setEvent({\r\n          type: \"success\",\r\n          massage: res.data.message,\r\n        });\r\n        clearEvent(5000);\r\n        setReload(!reload);\r\n      })\r\n      .catch((err) => {\r\n        setEvent({\r\n          type: \"error\",\r\n          massage: err.response.data.message,\r\n        });\r\n        clearEvent(5000);\r\n      });\r\n  };\r\n  // toggle modal\r\n  const toggle = (offer = null, product = null) => {\r\n    setOffersShow(!offersShow);\r\n    setSelectedOffer({ ...offer, product });\r\n  };\r\n\r\n  // add products to offers\r\n  const addProductToOffers = () => {\r\n    let api;\r\n    if (selectedOffer.flashSalesTitle) {\r\n      api = process.env.REACT_APP_ADMIN_ADD_PRODUCT_FLASH_SALE;\r\n    } else {\r\n      api = process.env.REACT_APP_ADMIN_PUSH_OFFER;\r\n    }\r\n    axios\r\n      .post(\r\n        server + api,\r\n        {\r\n          offerId: selectedOffer._id,\r\n          product: selectedOffer.product._id,\r\n          discount,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setEvent({\r\n          type: \"success\",\r\n          massage: res.data.message,\r\n        });\r\n        clearEvent(8000);\r\n        toggle();\r\n        setDiscount(1);\r\n        setSelectedOffer(null);\r\n      })\r\n      .catch((err) => {\r\n        toggle();\r\n        setEvent({\r\n          type: \"error\",\r\n          massage: err.response.data.message,\r\n        });\r\n        clearEvent(5000);\r\n      });\r\n  };\r\n  // add products to flashSale\r\n  const addProductToFlashSale = () => {\r\n    axios\r\n      .post(\r\n        server + process.env.REACT_APP_ADMIN_ADD_PRODUCT_FLASH_SALE,\r\n        {\r\n          offerId: selectedOffer._id,\r\n          product: selectedOffer.product._id,\r\n          discount,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setEvent({\r\n          type: \"success\",\r\n          massage: res.data.message,\r\n        });\r\n        clearEvent(8000);\r\n        toggle();\r\n        setDiscount(1);\r\n        setSelectedOffer(null);\r\n      })\r\n      .catch((err) => {\r\n        toggle();\r\n        setEvent({\r\n          type: \"error\",\r\n          massage: err.response.data.message,\r\n        });\r\n        clearEvent(5000);\r\n      });\r\n  };\r\n  let feilds;\r\n  if (role === \"admin\") {\r\n    feilds = [\r\n      {\r\n        key: \"SiNo.\",\r\n        label: \"\",\r\n        _style: { width: \"6%\" },\r\n        sorter: false,\r\n        filter: false,\r\n      },\r\n      {\r\n        key: \"ProductImg\",\r\n        label: \"image\",\r\n        sorter: false,\r\n        filter: false,\r\n      },\r\n      \"slug\",\r\n      \"price\",\r\n      \"discountPrice\",\r\n      \"finalPrice\",\r\n      \"category\",\r\n      \"quantity\",\r\n      {\r\n        key: \"verifiedVendors\",\r\n        label: \"Vendor\",\r\n        _style: { width: \"6%\" },\r\n        sorter: true,\r\n        filter: true,\r\n      },\r\n      {\r\n        key: \"offers\",\r\n        label: \"Offer\",\r\n        _style: { width: \"6%\" },\r\n        sorter: false,\r\n        filter: false,\r\n      },\r\n      {\r\n        key: \"Action\",\r\n        label: \"\",\r\n        _style: { width: \"6%\" },\r\n        sorter: false,\r\n        filter: false,\r\n      },\r\n    ];\r\n  }\r\n  if (role === \"vendor\") {\r\n    if (vendorProductsPending === \"pending\") {\r\n      feilds = [\r\n        {\r\n          key: \"SiNo.\",\r\n          label: \"\",\r\n          _style: { width: \"6%\" },\r\n          sorter: false,\r\n          filter: false,\r\n        },\r\n        {\r\n          key: \"ProductImg\",\r\n          label: \"image\",\r\n          sorter: false,\r\n          filter: false,\r\n        },\r\n        \"name\",\r\n        \"price\",\r\n        \"category\",\r\n        \"quantity\",\r\n        {\r\n          key: \"Action\",\r\n          label: \"\",\r\n          _style: { width: \"6%\" },\r\n          sorter: false,\r\n          filter: false,\r\n        },\r\n      ];\r\n    } else {\r\n      feilds = [\r\n        {\r\n          key: \"SiNo.\",\r\n          label: \"\",\r\n          _style: { width: \"6%\" },\r\n          sorter: false,\r\n          filter: false,\r\n        },\r\n        {\r\n          key: \"ProductImg\",\r\n          label: \"image\",\r\n          sorter: false,\r\n          filter: false,\r\n        },\r\n        \"name\",\r\n        \"price\",\r\n        \"category\",\r\n        \"quantity\",\r\n      ];\r\n    }\r\n  }\r\n  // vendor only change product type\r\n  const changeTypeProduct = (e) => {\r\n    setVendorProductsPending(e.target.value);\r\n    if (e.target.value === \"pending\") {\r\n      dataChange(vendorProducts.vendorProductPending);\r\n    } else {\r\n      dataChange(vendorProducts.vendorProductApproved);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"productlist\">\r\n      <CRow>\r\n        <CCol xl={12}>\r\n          <CCard>\r\n            {role === \"vendor\" && (\r\n              <CCardHeader>\r\n                <select onChange={changeTypeProduct}>\r\n                  <option value=\"pending\">Pending</option>\r\n                  <option value=\"approved\">Approved</option>\r\n                </select>\r\n              </CCardHeader>\r\n            )}\r\n            <CCardTitle className=\"text-center mt-4\">\r\n              {role === \"admin\"\r\n                ? \"Product Lists\"\r\n                : vendorProductsPending === \"pending\"\r\n                ? \"Pending Products\"\r\n                : \"Approved Products\"}\r\n            </CCardTitle>\r\n            <CCardBody>\r\n              <CDataTable\r\n                tableFilter\r\n                columnFilter\r\n                sorter\r\n                pagination\r\n                itemsPerPageSelect\r\n                loading={loading}\r\n                items={products}\r\n                fields={feilds}\r\n                hover\r\n                striped\r\n                itemsPerPage={10}\r\n                // onRowClick={(item) => history.push(`/product/${item._id}`)}\r\n                scopedSlots={{\r\n                  \"SiNo.\": (item, index) => <td key={index}>{index + 1}</td>,\r\n                  ProductImg: (item) => (\r\n                    <td>\r\n                      <img\r\n                        className=\"productlist_img\"\r\n                        loading=\"lazy\"\r\n                        src={item.ProductImg}\r\n                        alt={item.name}\r\n                      />\r\n                    </td>\r\n                  ),\r\n                  offers: (item) => (\r\n                    <td>\r\n                      <CDropdown>\r\n                        <CDropdownToggle>\r\n                          <CIcon content={freeSet.cilGift} size=\"2xl\" />\r\n                        </CDropdownToggle>\r\n                        <CDropdownMenu>\r\n                          <h5 className=\"center my-2\">Add Offres</h5>\r\n                          {offers?.map((offers) => (\r\n                            <CDropdownItem\r\n                              key={offers._id}\r\n                              onClick={() => toggle(offers, item)}\r\n                            >\r\n                              {offers.offerTitle}\r\n                            </CDropdownItem>\r\n                          ))}\r\n                          <h5 className=\"center my-2\">Add FlashSale</h5>\r\n                          {flashSale && (\r\n                            <CDropdownItem\r\n                              key={flashSale?._id}\r\n                              onClick={() =>\r\n                                toggle(\r\n                                  {\r\n                                    ...flashSale,\r\n                                    offerTitle: flashSale?.flashSalesTitle,\r\n                                  },\r\n                                  item\r\n                                )\r\n                              }\r\n                            >\r\n                              {flashSale.flashSalesTitle}\r\n                            </CDropdownItem>\r\n                          )}\r\n                        </CDropdownMenu>\r\n                      </CDropdown>\r\n                    </td>\r\n                  ),\r\n                  Action: (item) => (\r\n                    <td>\r\n                      <CDropdown>\r\n                        <CDropdownToggle>\r\n                          <CIcon name=\"cilSettings\" size=\"2xl\" />\r\n                        </CDropdownToggle>\r\n                        <CDropdownMenu>\r\n                          <CDropdownItem\r\n                            onClick={() =>\r\n                              history.push(`/productlist/${item._id}`)\r\n                            }\r\n                          >\r\n                            <NoteAddIcon /> Edit\r\n                          </CDropdownItem>\r\n                          <CDropdownItem\r\n                            onClick={() => deleteProduct(item._id)}\r\n                          >\r\n                            <DeleteForeverIcon /> Delete\r\n                          </CDropdownItem>\r\n                        </CDropdownMenu>\r\n                      </CDropdown>\r\n                    </td>\r\n                  ),\r\n                }}\r\n              />\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n      <CModal className=\"sm-30\" show={offersShow} onClose={toggle}>\r\n        <CModalHeader closeButton>\r\n          Add {selectedOffer?.product?.name} To {selectedOffer?.offerTitle}\r\n        </CModalHeader>\r\n        <CModalBody>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlFile2\">Offer Title</label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              name=\"offerTitle\"\r\n              id=\"exampleFormControlFile2\"\r\n              value={selectedOffer?.offerTitle}\r\n              disabled\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlFile2\">\r\n              Product Discount in %\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"number\"\r\n              name=\"discount\"\r\n              id=\"exampleFormControlFile2\"\r\n              min=\"1\"\r\n              max=\"100\"\r\n              onChange={(e) => setDiscount(e.target.value)}\r\n              value={discount}\r\n            />\r\n          </div>\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton onClick={toggle} color=\"primary\">\r\n            Cancel\r\n          </CButton>\r\n          <CButton onClick={addProductToOffers} color=\"primary\">\r\n            Confirm\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CModal>\r\n      {event?.type === \"error\" && (\r\n        <div className=\"position-fixed fixed-top d-flex justify-content-center\">\r\n          <CAlert color=\"danger\">{event.massage}</CAlert>\r\n        </div>\r\n      )}\r\n      {event?.type === \"success\" && (\r\n        <div className=\"position-fixed fixed-top d-flex justify-content-center\">\r\n          <CAlert color=\"success\">{event.massage}</CAlert>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default ProductLists;\r\n"],"sourceRoot":""}