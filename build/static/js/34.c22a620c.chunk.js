(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[34],{911:function(e,t,n){"use strict";n.r(t);var a=n(181),i=n(659),r=n(661),c=n.n(r),s=n(1),o=n(78),l=n(77),d=n(24);t.default=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],u=Object(s.useState)(""),j=Object(a.a)(u,2),p=j[0],h=j[1],b=Object(o.c)(l.e).token,v=Object(s.useState)(""),m=Object(a.a)(v,2),x=m[0],g=m[1],O=Object(s.useState)(""),f=Object(a.a)(O,2),y=f[0],C=f[1],S=Object(s.useState)("60ed26a938f11d2b17075d21"),N=Object(a.a)(S,2),w=N[0],_=N[1],k=Object(s.useState)("product"),B=Object(a.a)(k,2),z=B[0],A=B[1],P=Object(s.useState)(null),T=Object(a.a)(P,2),R=T[0],D=T[1],H=Object(s.useState)(!0),L=Object(a.a)(H,2),F=L[0],I=L[1],q=Object(s.useState)(null),J=Object(a.a)(q,2),E=J[0],Q=J[1],V=Object(s.useState)(null),G=Object(a.a)(V,2),K=G[0],M=G[1],U=function(e){setTimeout((function(){M(null)}),e)};return Object(s.useEffect)((function(){c.a.get("http://3.110.91.117/api/listing/allbanners/home").then((function(e){r(e.data.homepageBanner)})).catch((function(e){var t,n;M({type:"error",massage:null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data.message)&&void 0!==t?t:"server-error"}),U(5e3)})),c.a.get("http://3.110.91.117/api/allcategories/list",{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){Q(e.data.categories)})).catch((function(e){var t,n;M({type:"error",massage:null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data.message)&&void 0!==t?t:"server-error"}),U(5e3),I(!F)})),c.a.get("http://3.110.91.117/api/admin/listing/categories/homepage",{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){h(e.data.homeScreenCategories[0])})).catch((function(e){var t,n;M({type:"error",massage:null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data.message)&&void 0!==t?t:"server-error"}),U(5e3)}))}),[b,F]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"HomePege Settings"}),Object(d.jsx)("hr",{}),Object(d.jsx)("br",{}),Object(d.jsx)("h4",{children:"Banner for Home Page"}),Object(d.jsx)("hr",{}),Object(d.jsxs)("form",{style:{position:"relative"},onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("leftColor",x),t.append("rightColor",y),t.append("banner",R),t.append("bannerType",z),t.append("product",w),c.a.post("http://3.110.91.117/api/admin/create/home/banner",t,{headers:{Authorization:"Bearer "+b}}).then((function(e){I(!F),g(""),C(""),D(""),_(""),M({type:"success",massage:e.data.message}),U(5e3),I(!F)})).catch((function(e){var t,n;M({type:"error",massage:null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data.message)&&void 0!==t?t:"server-error"}),U(5e3)}))},children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"d-flex align-items-center my-3",children:[Object(d.jsx)("p",{className:"mt-3",children:"BannerType:"}),Object(d.jsxs)("select",{className:"ml-4",style:{height:"30px",width:"150px"},onChange:function(e){return A(e.target.value)},children:[Object(d.jsx)("option",{value:"product",children:"Products"}),Object(d.jsx)("option",{value:"category",children:"Category"})]})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"my-2 d-flex align-items-center",children:[Object(d.jsx)("p",{className:"mt-3 mr-4",children:"BannerType:"}),Object(d.jsx)("input",{type:"text",placeholder:"Inter a valid product / category Id",value:w,onChange:function(e){return _(e.target.value)}})]})})]}),Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)("p",{className:"mt-3 mr-4",children:"Banner Color:"}),Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)("input",{type:"color",value:x,onChange:function(e){return g(e.target.value)}}),Object(d.jsx)("input",{type:"text",placeholder:"Leftcolor",onChange:function(e){return g(e.target.value)},value:x})]}),Object(d.jsxs)("div",{className:"d-flex align-items-center ml-4",children:[Object(d.jsx)("input",{type:"color",placeholder:"Rightcolor",value:y,onChange:function(e){return C(e.target.value)}}),Object(d.jsx)("input",{type:"text",placeholder:"Rightcolor",onChange:function(e){return C(e.target.value)},value:y})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(d.jsx)("p",{className:"mt-3 mr-4",children:"Banner:"}),Object(d.jsx)("input",{multiple:!0,type:"file",accept:"image/png, image/jpeg,image/jpg,image/svg,image/webp",placeholder:"banner",onChange:function(e){return D(e.target.files[0])},value:null===R||void 0===R?void 0:R.fileName})]}),"*Note : banner size must be 1620 * 800 and left and right color must be provided",Object(d.jsx)(i.f,{style:{position:"absolute",bottom:"0px",right:"10px",width:"200px"},veriant:"outline",color:"success",type:"submit",children:"Save"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{style:{fontSize:"25px"},children:"Banners List - "}),n&&n.map((function(e){var t;return Object(d.jsxs)("div",{style:{fontSize:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"20px"},children:[Object(d.jsx)("img",{width:"400px",src:null===(t=e.banner)||void 0===t?void 0:t[0].img,alt:"banner"}),Object(d.jsxs)("div",{children:["Colors : ",Object(d.jsxs)("span",{children:["Left - ",e.leftColor]})," ;"," ",Object(d.jsxs)("span",{children:["Right - ",e.rightColor]})," ;"," ",Object(d.jsx)("span",{children:Object(d.jsx)("button",{onClick:function(){return t=e._id,void c.a.delete("http://3.110.91.117/api//admin/delete/home/banner/"+t,{headers:{Authorization:"Bearer "+b}}).then((function(e){I(!F),M({type:"success",massage:e.data.message}),U(5e3)})).catch((function(e){var t,n;M({type:"error",massage:null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data.message)&&void 0!==t?t:"server-error"}),U(5e3)}));var t},style:{outline:"none",color:"white",backgroundColor:"red",display:"inline",marginLeft:"50px",padding:"4px 16px"},children:"Delete"})}),Object(d.jsx)("hr",{})]})]},e._id)})),Object(d.jsx)("hr",{}),Object(d.jsx)("h3",{children:"Choose Homepage Products Show "}),Object(d.jsx)("hr",{}),Object(d.jsxs)("form",{style:{position:"relative"},onSubmit:function(e){e.preventDefault();for(var t=[],n=0;n<e.target.category.length;n++)e.target.category[n].checked&&t.push(e.target.category[n].value);c.a.post("http://3.110.91.117/api/admin/create/homepage/categories",{category:t,sort:e.target.sort.value,limit:e.target.itemcount.value},{headers:{Authorization:"Bearer "+b}}).then((function(e){I(!F),M({type:"success",massage:e.data.message}),U(5e3)})).catch((function(e){M({type:"error",massage:e.response.data.message}),U(5e3)}))},children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("label",{htmlFor:"itemcount",children:"Number Of Product Show in Homepage : -"}),Object(d.jsx)("input",{required:!0,id:"itemcount",name:"itemcount",type:"number",defaultValue:null===p||void 0===p?void 0:p.limit})]}),Object(d.jsxs)("span",{children:[Object(d.jsx)("label",{htmlFor:"sort",children:"Choose Sort Type : -"}),Object(d.jsxs)("select",{name:"sort",id:"sort",children:[Object(d.jsx)("option",{value:"time",children:"Time"}),Object(d.jsx)("option",{value:"alfabet",children:"Alfabet"}),Object(d.jsx)("option",{value:"rating",children:"Rating"}),Object(d.jsx)("option",{value:"review",children:"Review"}),Object(d.jsx)("option",{value:"price",children:"Price"}),Object(d.jsx)("option",{value:"quantity",children:"Quantity"}),Object(d.jsx)("option",{value:"-createdAt",children:"createdAt"}),Object(d.jsx)("option",{selected:!0,value:null===p||void 0===p?void 0:p.sort,children:null===p||void 0===p?void 0:p.sort})]})]})]}),null===E||void 0===E?void 0:E.map((function(e,t){var n,a;return Object(d.jsxs)("div",{children:[t+1," :",Object(d.jsx)("input",{style:{margin:"5px 10px"},type:"checkbox",defaultChecked:-1!==(null===p||void 0===p||null===(n=p.category)||void 0===n?void 0:n.indexOf(e._id)),name:"category",value:e._id},e._id),e.name,null===e||void 0===e||null===(a=e.children)||void 0===a?void 0:a.map((function(e,n){var a,i;if(e)return Object(d.jsxs)("div",{children:[n+2+t," :",Object(d.jsx)("input",{style:{margin:"5px 10px"},type:"checkbox",defaultChecked:-1!==(null===p||void 0===p||null===(a=p.category)||void 0===a?void 0:a.indexOf(e._id)),name:"category",value:e._id},e._id),e.name,null===e||void 0===e||null===(i=e.children)||void 0===i?void 0:i.map((function(e,t){var a;return Object(d.jsxs)("div",{children:[n+3+n+t," :",Object(d.jsx)("input",{style:{margin:"5px 10px"},type:"checkbox",defaultChecked:-1!==(null===p||void 0===p||null===(a=p.category)||void 0===a?void 0:a.indexOf(e._id)),name:"category",value:e._id},e._id),e.name]},e._id)}))]},e._id)}))]},e._id)})),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(i.f,{style:{position:"absolute",bottom:"0px",right:"10px",width:"200px"},veriant:"outline",color:"success",type:"submit",children:"Save"})]}),"error"===(null===K||void 0===K?void 0:K.type)&&Object(d.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(d.jsx)(i.a,{color:"danger",children:K.massage})}),"success"===(null===K||void 0===K?void 0:K.type)&&Object(d.jsx)("div",{className:"position-fixed fixed-top d-flex justify-content-center",children:Object(d.jsx)(i.a,{color:"success",children:K.massage})})]})}}}]);
//# sourceMappingURL=34.c22a620c.chunk.js.map